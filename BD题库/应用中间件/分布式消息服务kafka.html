<!DOCTYPE html><html lang="en"><head>
<title>分布式消息服务kafka</title>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="()">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.1/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.1/css/svg-with-js.css" crossorigin="anonymous">
<style type="text/css">
#nav{
  display: none;
}
.xsj_container_toc>#nav{
    display: block;
    background-color: #f9f9f9;
    position: fixed;
    top: 0;
    bottom: 0;
    left: 0;
    overflow-y: auto;
    width: 300px;
    z-index: 1;
}
.xsj_container_toc>#wmd-preview{
    margin-left: 300px;
}
.hide_toc.xsj_container_toc>#nav{
    display: none;
}

.hide_toc.xsj_container_toc>#wmd-preview{
    margin-left:  50px;
}

#toc-nav {
    position: fixed;
    z-index: 2;
    bottom: 0;
    left: 0;
    margin: 0;
    min-width: 1.33em;
    border-top-right-radius: 2rem;
    box-shadow: 0 0 2px;
    font-size: 1.5em;
    color: black;
}

#toc-nav .toc-toggle-tip{
    display:none;
}
#toc-nav:hover .toc-toggle-tip{
    display:initial;
    margin-right: .5em;
    }
</style>
<style type="text/css">
.tocbot{overflow-y:auto}.tocbot>.toc-list{overflow:hidden;position:relative}.tocbot>.toc-list li{list-style:none}.toc-list{margin:0;padding-left:10px}a.toc-link{color:currentColor;height:100%}.is-collapsible{max-height:1000px;overflow:hidden;transition:all 300ms ease-in-out}.is-collapsed{max-height:0}.is-position-fixed{position:fixed !important;top:0}.is-active-link{font-weight:700}.toc-link::before{background-color:#EEE;content:' ';display:inline-block;height:inherit;left:0;margin-top:-1px;position:absolute;width:2px}.is-active-link::before{background-color:#54BC4B}
</style>
<style type="text/css">

</style>
</head><body>
<div class="xsj_root">
<p id="toc-nav"><a id="toc-toggle" href="javascript:void();"><span class="toc-toggle-icon">←</span> <span class="toc-toggle-tip">关闭目录</span></a></p>
<nav id="nav" class="tocbot"></nav>
<div class="preview" id="wmd-preview">
<style>
a:focus {
	outline:	thin dotted #333;
	outline:	5px auto -webkit-focus-ring-color;
	outline-offset:	-2px;
}
a:hover {
	outline:	0;
}
a:active {
	outline:	0;
}
a:hover {
	color:	#005580 !important;
	text-decoration:	underline !important;
}
blockquote   small:before {
	content:	'\2014 \00A0';
}
.hljs-folder:before {
	top:	0;
	content:	'';
	width:	14px;
	height:	12px;
	margin-top:	0px;
	margin-right:	3px;
	position:	relative;
	display:	inline-block;
	background-size:	14px;
	background-repeat:	no-repeat;
}
.hljs-file:before {
	top:	0;
	content:	'';
	width:	14px;
	height:	12px;
	margin-top:	0px;
	margin-right:	3px;
	position:	relative;
	display:	inline-block;
	background-size:	14px;
	background-repeat:	no-repeat;
}
.hljs-hiddenfile:before {
	top:	0;
	content:	'';
	width:	14px;
	height:	12px;
	margin-top:	0px;
	margin-right:	3px;
	position:	relative;
	display:	inline-block;
	background-size:	14px;
	background-repeat:	no-repeat;
}
.hljs-file:before {
	height:	14px;
	margin-left:	1px;
}
.hljs-hiddenfile:before {
	height:	14px;
	margin-left:	1px;
}
.hljs-file.photo:before {
	font:	normal normal normal 14px / 1 FontAwesome;
	content:	"\f1c5";
}
.hljs-file.plain:before {
	font:	normal normal normal 14px / 1 FontAwesome;
	content:	"\f016";
}
.hljs-file.source:before {
	font:	normal normal normal 14px / 1 FontAwesome;
	content:	"\f1c9";
}
.hljs-file.archive:before {
	font:	normal normal normal 14px / 1 FontAwesome;
	content:	"\f1c6";
}
.hljs-file.audio:before {
	font:	normal normal normal 14px / 1 FontAwesome;
	content:	"\f1c7";
}
.hljs-file.video:before {
	font:	normal normal normal 14px / 1 FontAwesome;
	content:	"\f1c8";
}
.hljs-file.pdf:before {
	font:	normal normal normal 14px / 1 FontAwesome;
	content:	"\f1c1";
}
.hljs-file.xls:before {
	font:	normal normal normal 14px / 1 FontAwesome;
	content:	"\f1c3";
}
.hljs-file.doc:before {
	font:	normal normal normal 14px / 1 FontAwesome;
	content:	"\f1c2";
}
.hljs-file.ppt:before {
	font:	normal normal normal 14px / 1 FontAwesome;
	content:	"\f1c4";
}
.hljs-folder:before {
	font:	normal normal normal 14px / 1 FontAwesome;
	content:	"\f114";
}
.hljs-hiddenfile:before {
	font:	normal normal normal 14px / 1 FontAwesome;
	content:	"\f016";
}
-webkit-transform:	rotate(0deg);
transform:	rotate(0deg);
-webkit-transform:	rotate(360deg);
transform:	rotate(360deg);
-webkit-transform:	rotate(0deg);
transform:	rotate(0deg);
-webkit-transform:	rotate(360deg);
transform:	rotate(360deg);
.sr-only-focusable:active {
	clip:	auto;
	height:	auto;
	margin-top:	0;
	margin-right:	0;
	margin-bottom:	0;
	margin-left:	0;
	overflow:	visible;
	position:	static;
	width:	auto;
}
.sr-only-focusable:focus {
	clip:	auto;
	height:	auto;
	margin-top:	0;
	margin-right:	0;
	margin-bottom:	0;
	margin-left:	0;
	overflow:	visible;
	position:	static;
	width:	auto;
}
.blank_anchor_id:before {
	content:	'a';
}
.li_linenum:before {
	content:	counter(lines , decimal);
	position:	absolute;
	left:	-3em;
	text-align:	center;
	width:	2.5em;
	vertical-align:	top;
}
.li_linenum.line_mark:before {
	background:	rgba(210 , 118 , 118 , 0.6);
}
@media print {
body {
	font-size:	18px !important;
	word-wrap:	break-word !important;
	background:	initial !important;
	font-kerning:	normal;
	text-rendering:	geometricPrecision;
}
.preview.html_preview {
	max-width:	initial !important;
	border:	initial;
	margin-top:	initial;
	margin-right:	initial;
	margin-bottom:	initial;
	margin-left:	initial;
	padding-top:	initial;
	padding-right:	initial;
	padding-bottom:	initial;
	padding-left:	initial;
	border-radius:	initial;
	box-shadow:	initial;
}
.xiaoshujiang_element.xsj_anchor {
	position:	absolute;
}
tr {
	page-break-inside:	avoid;
}
.story_image_container {
	page-break-inside:	avoid;
}
blockquote {
	page-break-inside:	avoid;
}
.xsj_underline {
	page-break-after:	always;
	visibility:	hidden;
}
}
@media print {
.markdown_vertical {
	writing-mode:	initial;
}
.markdown_vertical   strong {
	border-left:	0;
	border-bottom:	2px solid;
}
}

</style><body style="font-family: &apos;Helvetica Neue&apos; , Helvetica , Tahoma , Arial , &apos;Hiragino Sans GB&apos; , STHeiti , &quot;Microsoft YaHei&quot; , &quot;&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;&quot; , &apos;WenQuanYi Micro Hei&apos; , STXihei , &quot;&#x534E;&#x6587;&#x7EC6;&#x9ED1;&quot; , Heiti , &quot;&#x9ED1;&#x4F53;&quot; , SimSun , &quot;&#x5B8B;&#x4F53;&quot; , Song , sans-serif; font-size: 16px; line-height: 1.8; font-weight: normal; color: #2f2f2f; word-wrap: break-word;">
	<div class="preview html_preview xsj_export_html" style="max-width: 100%;"><h2 class="xsj_heading_hash xsj_heading xsj_heading_h2" id="e58886e5b883e5bc8fe6b688e681afe69c8de58aa1kafka_1" style="font-weight: bold; text-rendering: optimizelegibility; font-size: 1.8rem; margin-top: .7em; margin-right: 0; margin-bottom: .5em; margin-left: 0;"><div class="xiaoshujiang_element xsj_anchor" style="overflow: hidden; float: right;">
  <a name="e58886e5b883e5bc8fe6b688e681afe69c8de58aa1kafka_1" class="blank_anchor_name" target="_blank" style="color: #0088cc; text-decoration: none;"></a><a id="e58886e5b883e5bc8fe6b688e681afe69c8de58aa1kafka_1" class="blank_anchor_id" target="_blank" style="color: #0088cc; text-decoration: none; float: right; width: 1px; height: 0px; visibility: hidden;"></a><a name="分布式消息服务kafka" class="blank_anchor_name" target="_blank" style="color: #0088cc; text-decoration: none;"></a><a id="分布式消息服务kafka" class="blank_anchor_id" target="_blank" style="color: #0088cc; text-decoration: none; float: right; width: 1px; height: 0px; visibility: hidden;"></a>
</div>
<span class="xsj_heading_content">分布式消息服务kafka</span></h2>
<h3 class="xsj_heading_hash xsj_heading xsj_heading_h3" id="e4bb80e4b988e698afe58886e5b883e5bc8fe6b688e681afe69c8de58aa1kafka_2" style="font-weight: bold; text-rendering: optimizelegibility; font-size: 1.6rem; margin-top: .6em; margin-right: 0; margin-bottom: .4em; margin-left: 0;"><div class="xiaoshujiang_element xsj_anchor" style="overflow: hidden; float: right;">
  <a name="e4bb80e4b988e698afe58886e5b883e5bc8fe6b688e681afe69c8de58aa1kafka_2" class="blank_anchor_name" target="_blank" style="color: #0088cc; text-decoration: none;"></a><a id="e4bb80e4b988e698afe58886e5b883e5bc8fe6b688e681afe69c8de58aa1kafka_2" class="blank_anchor_id" target="_blank" style="color: #0088cc; text-decoration: none; float: right; width: 1px; height: 0px; visibility: hidden;"></a><a name="什么是分布式消息服务kafka" class="blank_anchor_name" target="_blank" style="color: #0088cc; text-decoration: none;"></a><a id="什么是分布式消息服务kafka" class="blank_anchor_id" target="_blank" style="color: #0088cc; text-decoration: none; float: right; width: 1px; height: 0px; visibility: hidden;"></a>
</div>
<span class="xsj_heading_content">什么是分布式消息服务kafka</span></h3>
<p class="xsj_paragraph xsj_paragraph_level_0" style="margin-top: 1.1em; margin-right: 0; margin-bottom: 1.6em; margin-left: 0;">kafka是一个拥有高吞吐、可持久化、可水平扩展，支持流式数据处理等多种特性的分布式消息流处理中间件，采用分布式消息发布与订阅机制，在日志收集、流式数据传输、在线/离线系统分析、实时监控等领域有广泛的应用。</p>
<p class="xsj_paragraph xsj_paragraph_level_0" style="margin-top: 1.1em; margin-right: 0; margin-bottom: 1.6em; margin-left: 0;"><em class="markdown_em_asterisk" style="font-style: italic;">华为云分布式消息服务kafka是一款基于开源社区办kafka提供的消息队列服务，向用户提供计算、存储和带宽资源独占式的kafka专享实例。使用华为云分布式消息服务kafka，资源按需申请，按需配置Topic的分区与副本数量，即买即用，您将有更多精力专注于业务快速开发，不用考虑部署和运维。</em></p>
<h3 class="xsj_heading_hash xsj_heading xsj_heading_h3" id="e4baa7e59381e4bc98e58abf_3" style="font-weight: bold; text-rendering: optimizelegibility; font-size: 1.6rem; margin-top: .6em; margin-right: 0; margin-bottom: .4em; margin-left: 0;"><div class="xiaoshujiang_element xsj_anchor" style="overflow: hidden; float: right;">
  <a name="e4baa7e59381e4bc98e58abf_3" class="blank_anchor_name" target="_blank" style="color: #0088cc; text-decoration: none;"></a><a id="e4baa7e59381e4bc98e58abf_3" class="blank_anchor_id" target="_blank" style="color: #0088cc; text-decoration: none; float: right; width: 1px; height: 0px; visibility: hidden;"></a><a name="产品优势" class="blank_anchor_name" target="_blank" style="color: #0088cc; text-decoration: none;"></a><a id="产品优势" class="blank_anchor_id" target="_blank" style="color: #0088cc; text-decoration: none; float: right; width: 1px; height: 0px; visibility: hidden;"></a>
</div>
<span class="xsj_heading_content">产品优势</span></h3>
<p class="xsj_paragraph xsj_paragraph_level_0" style="margin-top: 1.1em; margin-right: 0; margin-bottom: 1.6em; margin-left: 0;">华为云分布式消息服务kafka<strong class="markdown_strong_asterisk" style="font-weight: bold;">完全兼容开源社区版本</strong>，旨在为用户提供便捷高效的消息队列。<strong class="markdown_strong_asterisk" style="font-weight: bold;">业务无需改动</strong>即可快速迁移上云，为您节省维护和使用成本。</p>
<ul class="markdown_ul" style="padding-top: 0; padding-right: 0; padding-bottom: 0; padding-left: 0; margin-top: 1.1em; margin-right: 0; margin-bottom: 1.1em; margin-left: 3em;">
<li>
<p class="xsj_paragraph xsj_paragraph_level_2" style="margin-top: 1.1em; margin-right: 0; margin-bottom: 1.6em; margin-left: 0;"><span class="xsj_placeholder_span"></span>一键式部署，免去集群搭建烦恼</p>
<p class="xsj_paragraph xsj_paragraph_level_2" style="margin-top: 1.1em; margin-right: 0; margin-bottom: 1.6em; margin-left: 0;"><span class="xsj_placeholder_span"></span>专享实例只需要在实例管理界面选好规格配置，提交订单。后台将自动创建部署完成一套kafka实例。</p>
</li>
<li>
<p class="xsj_paragraph xsj_paragraph_level_2" style="margin-top: 1.1em; margin-right: 0; margin-bottom: 1.6em; margin-left: 0;"><span class="xsj_placeholder_span"></span>兼容开源，业务零改动迁移上云</p>
<p class="xsj_paragraph xsj_paragraph_level_2" style="margin-top: 1.1em; margin-right: 0; margin-bottom: 1.6em; margin-left: 0;"><span class="xsj_placeholder_span"></span>兼容社区版kafka的API，具备原生kafka的所有消息处理特性。</p>
</li>
<li>
<p class="xsj_paragraph xsj_paragraph_level_2" style="margin-top: 1.1em; margin-right: 0; margin-bottom: 1.6em; margin-left: 0;"><span class="xsj_placeholder_span"></span>安全保证</p>
<p class="xsj_paragraph xsj_paragraph_level_2" style="margin-top: 1.1em; margin-right: 0; margin-bottom: 1.6em; margin-left: 0;"><span class="xsj_placeholder_span"></span>独有的安全加固体系，提供业务操作云端审计，消息存储加密等有效安全措施。</p>
</li>
<li>
<p class="xsj_paragraph xsj_paragraph_level_2" style="margin-top: 1.1em; margin-right: 0; margin-bottom: 1.6em; margin-left: 0;"><span class="xsj_placeholder_span"></span>数据高可靠</p>
<p class="xsj_paragraph xsj_paragraph_level_2" style="margin-top: 1.1em; margin-right: 0; margin-bottom: 1.6em; margin-left: 0;"><span class="xsj_placeholder_span"></span>kafka专享实例支持消息持久化，多副本存储机制。副本间消息同步、异步复制，数据同步或异步落盘多种方式供您自由选择。</p>
</li>
<li>
<p class="xsj_paragraph xsj_paragraph_level_2" style="margin-top: 1.1em; margin-right: 0; margin-bottom: 1.6em; margin-left: 0;"><span class="xsj_placeholder_span"></span>集群架构跨AZ部署，服务高可用</p>
<p class="xsj_paragraph xsj_paragraph_level_2" style="margin-top: 1.1em; margin-right: 0; margin-bottom: 1.6em; margin-left: 0;"><span class="xsj_placeholder_span"></span>kafka后台为多集群部署，支持故障自动迁移和溶出，保证业务的可靠运行。</p>
</li>
<li>
<p class="xsj_paragraph xsj_paragraph_level_2" style="margin-top: 1.1em; margin-right: 0; margin-bottom: 1.6em; margin-left: 0;"><span class="xsj_placeholder_span"></span>无忧运维</p>
<p class="xsj_paragraph xsj_paragraph_level_2" style="margin-top: 1.1em; margin-right: 0; margin-bottom: 1.6em; margin-left: 0;"><span class="xsj_placeholder_span"></span>华为云提供一整套完整的监控高级等运维服务，故障自动发现和告警，避免7*24小时人工值守。</p>
<p class="xsj_paragraph xsj_paragraph_level_2" style="margin-top: 1.1em; margin-right: 0; margin-bottom: 1.6em; margin-left: 0;"><em class="markdown_em_asterisk" style="font-style: italic;">kafka专享实例自动上报相关监控指标，如分区数、主题数、堆积消息等，并支持配置监控数据发送规则，您可以在第一时间通过短信、邮件等获得业务消息队列的运行使用和负载状态。</em></p>
</li>
</ul>
<h3 class="xsj_heading_hash xsj_heading xsj_heading_h3" id="e585b8e59e8be5ba94e794a8e59cbae699af_4" style="font-weight: bold; text-rendering: optimizelegibility; font-size: 1.6rem; margin-top: .6em; margin-right: 0; margin-bottom: .4em; margin-left: 0;"><div class="xiaoshujiang_element xsj_anchor" style="overflow: hidden; float: right;">
  <a name="e585b8e59e8be5ba94e794a8e59cbae699af_4" class="blank_anchor_name" target="_blank" style="color: #0088cc; text-decoration: none;"></a><a id="e585b8e59e8be5ba94e794a8e59cbae699af_4" class="blank_anchor_id" target="_blank" style="color: #0088cc; text-decoration: none; float: right; width: 1px; height: 0px; visibility: hidden;"></a><a name="典型应用场景" class="blank_anchor_name" target="_blank" style="color: #0088cc; text-decoration: none;"></a><a id="典型应用场景" class="blank_anchor_id" target="_blank" style="color: #0088cc; text-decoration: none; float: right; width: 1px; height: 0px; visibility: hidden;"></a>
</div>
<span class="xsj_heading_content">典型应用场景</span></h3>
<p class="xsj_paragraph xsj_paragraph_level_0" style="margin-top: 1.1em; margin-right: 0; margin-bottom: 1.6em; margin-left: 0;">kafka作为一款热门的消息队列中间件，具备高效可靠的消息一步传递机制，主要用于不同系统间的数据交流和传递，在企业解决方案、金融支付、电信、电子商务、社交、即时通信、视频、物联网、车联网等众多领域都有广泛的应用。</p>
<h5 class="xsj_heading_hash xsj_heading xsj_heading_h5" id="e5bc82e6ada5e9809ae4bfa1_5" style="font-weight: bold; text-rendering: optimizelegibility; font-size: 1.4rem; margin-top: .5em; margin-right: 0; margin-bottom: .3em; margin-left: 0;"><div class="xiaoshujiang_element xsj_anchor" style="overflow: hidden; float: right;">
  <a name="e5bc82e6ada5e9809ae4bfa1_5" class="blank_anchor_name" target="_blank" style="color: #0088cc; text-decoration: none;"></a><a id="e5bc82e6ada5e9809ae4bfa1_5" class="blank_anchor_id" target="_blank" style="color: #0088cc; text-decoration: none; float: right; width: 1px; height: 0px; visibility: hidden;"></a><a name="异步通信" class="blank_anchor_name" target="_blank" style="color: #0088cc; text-decoration: none;"></a><a id="异步通信" class="blank_anchor_id" target="_blank" style="color: #0088cc; text-decoration: none; float: right; width: 1px; height: 0px; visibility: hidden;"></a>
</div>
<span class="xsj_heading_content">异步通信</span></h5>
<p class="xsj_paragraph xsj_paragraph_level_0" style="margin-top: 1.1em; margin-right: 0; margin-bottom: 1.6em; margin-left: 0;">将业务中属于非核型或不重要的流程部分，使用消息一步通知的方式发给目标系统，这样主业务流程无需同步等待其他系统的处理结果，从而达到系统快速响应的目的。</p>
<h5 class="xsj_heading_hash xsj_heading xsj_heading_h5" id="e99499e5b3b0e6b581e68ea7e4b88ee6b581e9878fe5898ae5b3b0_6" style="font-weight: bold; text-rendering: optimizelegibility; font-size: 1.4rem; margin-top: .5em; margin-right: 0; margin-bottom: .3em; margin-left: 0;"><div class="xiaoshujiang_element xsj_anchor" style="overflow: hidden; float: right;">
  <a name="e99499e5b3b0e6b581e68ea7e4b88ee6b581e9878fe5898ae5b3b0_6" class="blank_anchor_name" target="_blank" style="color: #0088cc; text-decoration: none;"></a><a id="e99499e5b3b0e6b581e68ea7e4b88ee6b581e9878fe5898ae5b3b0_6" class="blank_anchor_id" target="_blank" style="color: #0088cc; text-decoration: none; float: right; width: 1px; height: 0px; visibility: hidden;"></a><a name="错峰流控与流量削峰" class="blank_anchor_name" target="_blank" style="color: #0088cc; text-decoration: none;"></a><a id="错峰流控与流量削峰" class="blank_anchor_id" target="_blank" style="color: #0088cc; text-decoration: none; float: right; width: 1px; height: 0px; visibility: hidden;"></a>
</div>
<span class="xsj_heading_content">错峰流控与流量削峰</span></h5>
<p class="xsj_paragraph xsj_paragraph_level_0" style="margin-top: 1.1em; margin-right: 0; margin-bottom: 1.6em; margin-left: 0;">在电子商务和大型网站中，上下游系统处理能力存在差异，处理能力高的上游系统的突发流量可能对处理能力低的某些下游系统造成冲击，需要提高系统的可用性的同时降低系统实现的复杂性。</p>
<h5 class="xsj_heading_hash xsj_heading xsj_heading_h5" id="e697a5e5bf97e5908ce6ada5_7" style="font-weight: bold; text-rendering: optimizelegibility; font-size: 1.4rem; margin-top: .5em; margin-right: 0; margin-bottom: .3em; margin-left: 0;"><div class="xiaoshujiang_element xsj_anchor" style="overflow: hidden; float: right;">
  <a name="e697a5e5bf97e5908ce6ada5_7" class="blank_anchor_name" target="_blank" style="color: #0088cc; text-decoration: none;"></a><a id="e697a5e5bf97e5908ce6ada5_7" class="blank_anchor_id" target="_blank" style="color: #0088cc; text-decoration: none; float: right; width: 1px; height: 0px; visibility: hidden;"></a><a name="日志同步" class="blank_anchor_name" target="_blank" style="color: #0088cc; text-decoration: none;"></a><a id="日志同步" class="blank_anchor_id" target="_blank" style="color: #0088cc; text-decoration: none; float: right; width: 1px; height: 0px; visibility: hidden;"></a>
</div>
<span class="xsj_heading_content">日志同步</span></h5>
<p class="xsj_paragraph xsj_paragraph_level_0" style="margin-top: 1.1em; margin-right: 0; margin-bottom: 1.6em; margin-left: 0;">在大型业务系统设计中，为了快速定位问题，全链路追踪日志，以及故障及时预警监控，通常需要将各系统应用的日志集中分析处理。</p>
<h5 class="xsj_heading_hash xsj_heading xsj_heading_h5" id="e4b88ee5bc80e6ba90kafkae79a84e5b7aee5bc82_8" style="font-weight: bold; text-rendering: optimizelegibility; font-size: 1.4rem; margin-top: .5em; margin-right: 0; margin-bottom: .3em; margin-left: 0;"><div class="xiaoshujiang_element xsj_anchor" style="overflow: hidden; float: right;">
  <a name="e4b88ee5bc80e6ba90kafkae79a84e5b7aee5bc82_8" class="blank_anchor_name" target="_blank" style="color: #0088cc; text-decoration: none;"></a><a id="e4b88ee5bc80e6ba90kafkae79a84e5b7aee5bc82_8" class="blank_anchor_id" target="_blank" style="color: #0088cc; text-decoration: none; float: right; width: 1px; height: 0px; visibility: hidden;"></a><a name="与开源kafka的差异" class="blank_anchor_name" target="_blank" style="color: #0088cc; text-decoration: none;"></a><a id="与开源kafka的差异" class="blank_anchor_id" target="_blank" style="color: #0088cc; text-decoration: none; float: right; width: 1px; height: 0px; visibility: hidden;"></a>
</div>
<span class="xsj_heading_content">与开源kafka的差异</span></h5>
<table class="table-extra table table-striped table-celled" style="max-width: 100%; background-color: transparent; border-collapse: collapse; border-spacing: 0; word-break: initial; border: 1px solid rgba(34 , 36 , 38 , .15); width: 100%; margin-bottom: 20px; margin-right: auto; margin-left: auto;">
<colgroup>
<col>
<col>
<col>
<col>
</colgroup>
<thead>
<tr>
<th style="padding-top: 8px; padding-right: 8px; padding-bottom: 8px; padding-left: 8px; line-height: 20px; text-align: left; vertical-align: bottom; border-top: 0; font-weight: bold; border-left: none;">对比类</th>
<th style="padding-top: 8px; padding-right: 8px; padding-bottom: 8px; padding-left: 8px; line-height: 20px; text-align: left; vertical-align: bottom; border-top: 0; font-weight: bold; border-left: 1px solid rgba(34 , 36 , 38 , .1);">对比项</th>
<th style="padding-top: 8px; padding-right: 8px; padding-bottom: 8px; padding-left: 8px; line-height: 20px; text-align: left; vertical-align: bottom; border-top: 0; font-weight: bold; border-left: 1px solid rgba(34 , 36 , 38 , .1);">分布式消息服务Kafka</th>
<th style="padding-top: 8px; padding-right: 8px; padding-bottom: 8px; padding-left: 8px; line-height: 20px; text-align: left; vertical-align: bottom; border-top: 0; font-weight: bold; border-left: 1px solid rgba(34 , 36 , 38 , .1);">开源Kafka</th>
</tr>
</thead>
<tbody>
<tr>
<td style="padding-top: 8px; padding-right: 8px; padding-bottom: 8px; padding-left: 8px; line-height: 20px; text-align: left; vertical-align: top; border-top: 1px solid #ddd; background-color: #f9f9f9; border-left: none; background: #f9f9f9;">简单易用</td>
<td style="padding-top: 8px; padding-right: 8px; padding-bottom: 8px; padding-left: 8px; line-height: 20px; text-align: left; vertical-align: top; border-top: 1px solid #ddd; background-color: #f9f9f9; border-left: 1px solid rgba(34 , 36 , 38 , .1); background: #f9f9f9;">立等可用</td>
<td style="padding-top: 8px; padding-right: 8px; padding-bottom: 8px; padding-left: 8px; line-height: 20px; text-align: left; vertical-align: top; border-top: 1px solid #ddd; background-color: #f9f9f9; border-left: 1px solid rgba(34 , 36 , 38 , .1); background: #f9f9f9;">即开即用，可视化操作，按需自助创建，自动化部署，分钟级创建实例，立即使用，实时查看和管理消息实例。</td>
<td style="padding-top: 8px; padding-right: 8px; padding-bottom: 8px; padding-left: 8px; line-height: 20px; text-align: left; vertical-align: top; border-top: 1px solid #ddd; background-color: #f9f9f9; border-left: 1px solid rgba(34 , 36 , 38 , .1); background: #f9f9f9;">自行准备服务器资源，安装配置必要的软件并进行配置，等待时间长。易出错。</td>
</tr>
<tr>
<td style="padding-top: 8px; padding-right: 8px; padding-bottom: 8px; padding-left: 8px; line-height: 20px; text-align: left; vertical-align: top; border-top: 1px solid #ddd; border-left: none;"></td>
<td style="padding-top: 8px; padding-right: 8px; padding-bottom: 8px; padding-left: 8px; line-height: 20px; text-align: left; vertical-align: top; border-top: 1px solid #ddd; border-left: 1px solid rgba(34 , 36 , 38 , .1);">简单API</td>
<td colspan="2" style="padding-top: 8px; padding-right: 8px; padding-bottom: 8px; padding-left: 8px; line-height: 20px; text-align: left; vertical-align: top; border-top: 1px solid #ddd; border-left: 1px solid rgba(34 , 36 , 38 , .1);">提供简单的实例管理RESTFul API，使用门槛低。</td>

</tr>
<tr>
<td style="padding-top: 8px; padding-right: 8px; padding-bottom: 8px; padding-left: 8px; line-height: 20px; text-align: left; vertical-align: top; border-top: 1px solid #ddd; background-color: #f9f9f9; border-left: none; background: #f9f9f9;">成本低廉</td>
<td style="padding-top: 8px; padding-right: 8px; padding-bottom: 8px; padding-left: 8px; line-height: 20px; text-align: left; vertical-align: top; border-top: 1px solid #ddd; background-color: #f9f9f9; border-left: 1px solid rgba(34 , 36 , 38 , .1); background: #f9f9f9;">按需使用</td>
<td style="padding-top: 8px; padding-right: 8px; padding-bottom: 8px; padding-left: 8px; line-height: 20px; text-align: left; vertical-align: top; border-top: 1px solid #ddd; background-color: #f9f9f9; border-left: 1px solid rgba(34 , 36 , 38 , .1); background: #f9f9f9;">提供多种规格，按需使用，支持一键式在线进行实例基准带宽和磁盘存储空间扩容，不中断业务。</td>
<td style="padding-top: 8px; padding-right: 8px; padding-bottom: 8px; padding-left: 8px; line-height: 20px; text-align: left; vertical-align: top; border-top: 1px solid #ddd; background-color: #f9f9f9; border-left: 1px solid rgba(34 , 36 , 38 , .1); background: #f9f9f9;">搭建消息服务本身需要费用，而且即使没有使用，所占用资源本身依旧要收费。</td>
</tr>
<tr>
<td style="padding-top: 8px; padding-right: 8px; padding-bottom: 8px; padding-left: 8px; line-height: 20px; text-align: left; vertical-align: top; border-top: 1px solid #ddd; border-left: none;"></td>
<td style="padding-top: 8px; padding-right: 8px; padding-bottom: 8px; padding-left: 8px; line-height: 20px; text-align: left; vertical-align: top; border-top: 1px solid #ddd; border-left: 1px solid rgba(34 , 36 , 38 , .1);">完全托管</td>
<td style="padding-top: 8px; padding-right: 8px; padding-bottom: 8px; padding-left: 8px; line-height: 20px; text-align: left; vertical-align: top; border-top: 1px solid #ddd; border-left: 1px solid rgba(34 , 36 , 38 , .1);">租户不需要单独采购硬件资源，直接使用就绪的服务，无需额外成本。</td>
<td style="padding-top: 8px; padding-right: 8px; padding-bottom: 8px; padding-left: 8px; line-height: 20px; text-align: left; vertical-align: top; border-top: 1px solid #ddd; border-left: 1px solid rgba(34 , 36 , 38 , .1);">需要购买硬件资源，自行搭建整个消息服务，使用和维护成本高。</td>
</tr>
<tr>
<td style="padding-top: 8px; padding-right: 8px; padding-bottom: 8px; padding-left: 8px; line-height: 20px; text-align: left; vertical-align: top; border-top: 1px solid #ddd; background-color: #f9f9f9; border-left: none; background: #f9f9f9;">实践验证</td>
<td style="padding-top: 8px; padding-right: 8px; padding-bottom: 8px; padding-left: 8px; line-height: 20px; text-align: left; vertical-align: top; border-top: 1px solid #ddd; background-color: #f9f9f9; border-left: 1px solid rgba(34 , 36 , 38 , .1); background: #f9f9f9;">成熟度高</td>
<td style="padding-top: 8px; padding-right: 8px; padding-bottom: 8px; padding-left: 8px; line-height: 20px; text-align: left; vertical-align: top; border-top: 1px solid #ddd; background-color: #f9f9f9; border-left: 1px solid rgba(34 , 36 , 38 , .1); background: #f9f9f9;">经受华为官方电商网站VMALL双11等大规模访问考验，并且已经在华为许多产品中使用，广泛部署运行在分布于世界各地的电信级客户云业务系统里。满足严苛的电信级故障模式库标准。紧随社区主流版本，修复开源bug，持续上线新功能，进行版本升级。</td>
<td style="padding-top: 8px; padding-right: 8px; padding-bottom: 8px; padding-left: 8px; line-height: 20px; text-align: left; vertical-align: top; border-top: 1px solid #ddd; background-color: #f9f9f9; border-left: 1px solid rgba(34 , 36 , 38 , .1); background: #f9f9f9;">使用开源软件成熟度低，无法保证关键业务，商业案例少；自研周期长，并需要长时间进行验证。</td>
</tr>
<tr>
<td style="padding-top: 8px; padding-right: 8px; padding-bottom: 8px; padding-left: 8px; line-height: 20px; text-align: left; vertical-align: top; border-top: 1px solid #ddd; border-left: none;"></td>
<td style="padding-top: 8px; padding-right: 8px; padding-bottom: 8px; padding-left: 8px; line-height: 20px; text-align: left; vertical-align: top; border-top: 1px solid #ddd; border-left: 1px solid rgba(34 , 36 , 38 , .1);">能力强大</td>
<td style="padding-top: 8px; padding-right: 8px; padding-bottom: 8px; padding-left: 8px; line-height: 20px; text-align: left; vertical-align: top; border-top: 1px solid #ddd; border-left: 1px solid rgba(34 , 36 , 38 , .1);">100%兼容开源，支持一键扩容，深度优化开源代码提升性能和可靠性，支持消息查询、消息转储等高级特性。</td>
<td style="padding-top: 8px; padding-right: 8px; padding-bottom: 8px; padding-left: 8px; line-height: 20px; text-align: left; vertical-align: top; border-top: 1px solid #ddd; border-left: 1px solid rgba(34 , 36 , 38 , .1);">功能不完善，需额外投入进行开发。</td>
</tr>
<tr>
<td style="padding-top: 8px; padding-right: 8px; padding-bottom: 8px; padding-left: 8px; line-height: 20px; text-align: left; vertical-align: top; border-top: 1px solid #ddd; background-color: #f9f9f9; border-left: none; background: #f9f9f9;">稳定可靠</td>
<td style="padding-top: 8px; padding-right: 8px; padding-bottom: 8px; padding-left: 8px; line-height: 20px; text-align: left; vertical-align: top; border-top: 1px solid #ddd; background-color: #f9f9f9; border-left: 1px solid rgba(34 , 36 , 38 , .1); background: #f9f9f9;">稳定高可用</td>
<td style="padding-top: 8px; padding-right: 8px; padding-bottom: 8px; padding-left: 8px; line-height: 20px; text-align: left; vertical-align: top; border-top: 1px solid #ddd; background-color: #f9f9f9; border-left: 1px solid rgba(34 , 36 , 38 , .1); background: #f9f9f9;">支持跨AZ部署，提升可靠性。故障自动发现并上报告警，保证用户关键业务的可靠运行。</td>
<td style="padding-top: 8px; padding-right: 8px; padding-bottom: 8px; padding-left: 8px; line-height: 20px; text-align: left; vertical-align: top; border-top: 1px solid #ddd; background-color: #f9f9f9; border-left: 1px solid rgba(34 , 36 , 38 , .1); background: #f9f9f9;">需要自己开发或基于开源实现，开发成本高昂，无法保证业务可靠运行。</td>
</tr>
<tr>
<td style="padding-top: 8px; padding-right: 8px; padding-bottom: 8px; padding-left: 8px; line-height: 20px; text-align: left; vertical-align: top; border-top: 1px solid #ddd; border-left: none;"></td>
<td style="padding-top: 8px; padding-right: 8px; padding-bottom: 8px; padding-left: 8px; line-height: 20px; text-align: left; vertical-align: top; border-top: 1px solid #ddd; border-left: 1px solid rgba(34 , 36 , 38 , .1);">无忧运维</td>
<td style="padding-top: 8px; padding-right: 8px; padding-bottom: 8px; padding-left: 8px; line-height: 20px; text-align: left; vertical-align: top; border-top: 1px solid #ddd; border-left: 1px solid rgba(34 , 36 , 38 , .1);">后台运维对租户完全透明，整个服务运行具有完备的监控和告警功能。有异常可以及时通知相关人员。避免7*24小时人工值守。</td>
<td style="padding-top: 8px; padding-right: 8px; padding-bottom: 8px; padding-left: 8px; line-height: 20px; text-align: left; vertical-align: top; border-top: 1px solid #ddd; border-left: 1px solid rgba(34 , 36 , 38 , .1);">需要自行开发完善运维功能，尤其是告警及通知功能，否则只能人工值守。</td>
</tr>
<tr>
<td style="padding-top: 8px; padding-right: 8px; padding-bottom: 8px; padding-left: 8px; line-height: 20px; text-align: left; vertical-align: top; border-top: 1px solid #ddd; background-color: #f9f9f9; border-left: none; background: #f9f9f9;"></td>
<td style="padding-top: 8px; padding-right: 8px; padding-bottom: 8px; padding-left: 8px; line-height: 20px; text-align: left; vertical-align: top; border-top: 1px solid #ddd; background-color: #f9f9f9; border-left: 1px solid rgba(34 , 36 , 38 , .1); background: #f9f9f9;">安全保证</td>
<td style="padding-top: 8px; padding-right: 8px; padding-bottom: 8px; padding-left: 8px; line-height: 20px; text-align: left; vertical-align: top; border-top: 1px solid #ddd; background-color: #f9f9f9; border-left: 1px solid rgba(34 , 36 , 38 , .1); background: #f9f9f9;">VPC隔离，支持SSL通道加密。</td>
<td style="padding-top: 8px; padding-right: 8px; padding-bottom: 8px; padding-left: 8px; line-height: 20px; text-align: left; vertical-align: top; border-top: 1px solid #ddd; background-color: #f9f9f9; border-left: 1px solid rgba(34 , 36 , 38 , .1); background: #f9f9f9;">需要自行进行安全加固。</td>
</tr>
</tbody>
</table>
</div>
</body>
</div></div>
<script>
  !function(e){function t(o){if(n[o])return n[o].exports;var l=n[o]={i:o,l:!1,exports:{}};return e[o].call(l.exports,l,l.exports,t),l.l=!0,l.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){(function(o){var l,r,i;!function(n,o){r=[],l=o(n),void 0!==(i="function"==typeof l?l.apply(t,r):l)&&(e.exports=i)}(void 0!==o?o:this.window||this.global,function(e){"use strict";function t(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var o in n)m.call(n,o)&&(e[o]=n[o])}return e}function o(e,t,n){t||(t=250);var o,l;return function(){var r=n||this,i=+new Date,s=arguments;o&&i<o+t?(clearTimeout(l),l=setTimeout(function(){o=i,e.apply(r,s)},t)):(o=i,e.apply(r,s))}}var l,r,i=n(2),s={},c={},a=n(3),u=n(4);if("undefined"!=typeof window){var d,f=!!e.document.querySelector&&!!e.addEventListener,m=Object.prototype.hasOwnProperty;return c.destroy=function(){if(!s.skipRendering)try{document.querySelector(s.tocSelector).innerHTML=""}catch(e){console.warn("Element not found: "+s.tocSelector)}s.scrollContainer&&document.querySelector(s.scrollContainer)?(document.querySelector(s.scrollContainer).removeEventListener("scroll",this._scrollListener,!1),document.querySelector(s.scrollContainer).removeEventListener("resize",this._scrollListener,!1),l&&document.querySelector(s.scrollContainer).removeEventListener("click",this._clickListener,!1)):(document.removeEventListener("scroll",this._scrollListener,!1),document.removeEventListener("resize",this._scrollListener,!1),l&&document.removeEventListener("click",this._clickListener,!1))},c.init=function(e){if(f&&(s=t(i,e||{}),this.options=s,this.state={},s.scrollSmooth&&(s.duration=s.scrollSmoothDuration,s.offset=s.scrollSmoothOffset,c.scrollSmooth=n(5).initSmoothScrolling(s)),l=a(s),r=u(s),this._buildHtml=l,this._parseContent=r,c.destroy(),null!==(d=r.selectHeadings(s.contentSelector,s.headingSelector)))){var m=r.nestHeadingsArray(d),h=m.nest;s.skipRendering||l.render(s.tocSelector,h),this._scrollListener=o(function(e){l.updateToc(d);var t=e&&e.target&&e.target.scrollingElement&&0===e.target.scrollingElement.scrollTop;(e&&(0===e.eventPhase||null===e.currentTarget)||t)&&(l.updateToc(d),s.scrollEndCallback&&s.scrollEndCallback(e))},s.throttleTimeout),this._scrollListener(),s.scrollContainer&&document.querySelector(s.scrollContainer)?(document.querySelector(s.scrollContainer).addEventListener("scroll",this._scrollListener,!1),document.querySelector(s.scrollContainer).addEventListener("resize",this._scrollListener,!1)):(document.addEventListener("scroll",this._scrollListener,!1),document.addEventListener("resize",this._scrollListener,!1));var p=null;return this._clickListener=o(function(e){s.scrollSmooth&&l.disableTocAnimation(e),l.updateToc(d),p&&clearTimeout(p),p=setTimeout(function(){l.enableTocAnimation()},s.scrollSmoothDuration)},s.throttleTimeout),s.scrollContainer&&document.querySelector(s.scrollContainer)?document.querySelector(s.scrollContainer).addEventListener("click",this._clickListener,!1):document.addEventListener("click",this._clickListener,!1),this}},c.refresh=function(e){c.destroy(),c.init(e||this.options)},e.tocbot=c,c}})}).call(t,n(1))},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){e.exports={tocSelector:".js-toc",contentSelector:".js-toc-content",headingSelector:"h1, h2, h3",ignoreSelector:".js-toc-ignore",hasInnerContainers:!1,linkClass:"toc-link",extraLinkClasses:"",activeLinkClass:"is-active-link",listClass:"toc-list",extraListClasses:"",isCollapsedClass:"is-collapsed",collapsibleClass:"is-collapsible",listItemClass:"toc-list-item",activeListItemClass:"is-active-li",collapseDepth:0,scrollSmooth:!0,scrollSmoothDuration:420,scrollSmoothOffset:0,scrollEndCallback:function(e){},headingsOffset:1,throttleTimeout:50,positionFixedSelector:null,positionFixedClass:"is-position-fixed",fixedSidebarOffset:"auto",includeHtml:!1,onClick:!1,orderedList:!0,scrollContainer:null,skipRendering:!1}},function(e,t){e.exports=function(e){function t(e,n){var r=n.appendChild(o(e));if(e.children.length){var i=l(e.isCollapsed);e.children.forEach(function(e){t(e,i)}),r.appendChild(i)}}function n(e,n){var o=l(!1);n.forEach(function(e){t(e,o)});var r=document.querySelector(e);if(null!==r)return r.firstChild&&r.removeChild(r.firstChild),0===n.length?r:r.appendChild(o)}function o(t){var n=document.createElement("li"),o=document.createElement("a");return e.listItemClass&&n.setAttribute("class",e.listItemClass),e.onClick&&(o.onclick=e.onClick),e.includeHtml&&t.childNodes.length?d.call(t.childNodes,function(e){o.appendChild(e.cloneNode(!0))}):o.textContent=t.textContent,o.setAttribute("href","#"+t.id),o.setAttribute("class",e.linkClass+p+"node-name--"+t.nodeName+p+e.extraLinkClasses),n.appendChild(o),n}function l(t){var n=e.orderedList?"ol":"ul",o=document.createElement(n),l=e.listClass+p+e.extraListClasses;return t&&(l+=p+e.collapsibleClass,l+=p+e.isCollapsedClass),o.setAttribute("class",l),o}function r(){if(e.scrollContainer&&document.querySelector(e.scrollContainer))var t=document.querySelector(e.scrollContainer).scrollTop;else var t=document.documentElement.scrollTop||m.scrollTop;var n=document.querySelector(e.positionFixedSelector);"auto"===e.fixedSidebarOffset&&(e.fixedSidebarOffset=document.querySelector(e.tocSelector).offsetTop),t>e.fixedSidebarOffset?-1===n.className.indexOf(e.positionFixedClass)&&(n.className+=p+e.positionFixedClass):n.className=n.className.split(p+e.positionFixedClass).join("")}function i(t){var n=0;return t!=document.querySelector(e.contentSelector&&null!=t)&&(n=t.offsetTop,e.hasInnerContainers&&(n+=i(t.offsetParent))),n}function s(t){if(e.scrollContainer&&document.querySelector(e.scrollContainer))var n=document.querySelector(e.scrollContainer).scrollTop;else var n=document.documentElement.scrollTop||m.scrollTop;e.positionFixedSelector&&r();var o,l=t;if(h&&null!==document.querySelector(e.tocSelector)&&l.length>0){f.call(l,function(t,r){if(i(t)>n+e.headingsOffset+10){return o=l[0===r?r:r-1],!0}if(r===l.length-1)return o=l[l.length-1],!0});var s=document.querySelector(e.tocSelector).querySelectorAll("."+e.linkClass);d.call(s,function(t){t.className=t.className.split(p+e.activeLinkClass).join("")});var a=document.querySelector(e.tocSelector).querySelectorAll("."+e.listItemClass);d.call(a,function(t){t.className=t.className.split(p+e.activeListItemClass).join("")});var u=document.querySelector(e.tocSelector).querySelector("."+e.linkClass+".node-name--"+o.nodeName+'[href="#'+o.id+'"]');-1===u.className.indexOf(e.activeLinkClass)&&(u.className+=p+e.activeLinkClass);var C=u.parentNode;C&&-1===C.className.indexOf(e.activeListItemClass)&&(C.className+=p+e.activeListItemClass);var v=document.querySelector(e.tocSelector).querySelectorAll("."+e.listClass+"."+e.collapsibleClass);d.call(v,function(t){-1===t.className.indexOf(e.isCollapsedClass)&&(t.className+=p+e.isCollapsedClass)}),u.nextSibling&&-1!==u.nextSibling.className.indexOf(e.isCollapsedClass)&&(u.nextSibling.className=u.nextSibling.className.split(p+e.isCollapsedClass).join("")),c(u.parentNode.parentNode)}}function c(t){return-1!==t.className.indexOf(e.collapsibleClass)&&-1!==t.className.indexOf(e.isCollapsedClass)?(t.className=t.className.split(p+e.isCollapsedClass).join(""),c(t.parentNode.parentNode)):t}function a(t){var n=t.target||t.srcElement;"string"==typeof n.className&&-1!==n.className.indexOf(e.linkClass)&&(h=!1)}function u(){h=!0}var d=[].forEach,f=[].some,m=document.body,h=!0,p=" ";return{enableTocAnimation:u,disableTocAnimation:a,render:n,updateToc:s}}},function(e,t){e.exports=function(e){function t(e){return e[e.length-1]}function n(e){return+e.nodeName.split("H").join("")}function o(t){var o={id:t.id,children:[],nodeName:t.nodeName,headingLevel:n(t),textContent:t.textContent.trim()};return e.includeHtml&&(o.childNodes=t.childNodes),o}function l(l,r){for(var i=o(l),s=n(l),c=r,a=t(c),u=a?a.headingLevel:0,d=s-u;d>0;)a=t(c),a&&void 0!==a.children&&(c=a.children),d--;return s>=e.collapseDepth&&(i.isCollapsed=!0),c.push(i),c}function r(t,n){var o=n;e.ignoreSelector&&(o=n.split(",").map(function(t){return t.trim()+":not("+e.ignoreSelector+")"}));try{return document.querySelector(t).querySelectorAll(o)}catch(e){return console.warn("Element not found: "+t),null}}function i(e){return s.call(e,function(e,t){return l(o(t),e.nest),e},{nest:[]})}var s=[].reduce;return{nestHeadingsArray:i,selectHeadings:r}}},function(e,t){function n(e){function t(e){return"a"===e.tagName.toLowerCase()&&(e.hash.length>0||"#"===e.href.charAt(e.href.length-1))&&(n(e.href)===s||n(e.href)+"#"===s)}function n(e){return e.slice(0,e.lastIndexOf("#"))}function l(e){var t=document.getElementById(e.substring(1));t&&(/^(?:a|select|input|button|textarea)$/i.test(t.tagName)||(t.tabIndex=-1),t.focus())}!function(){document.documentElement.style}();var r=e.duration,i=e.offset,s=location.hash?n(location.href):location.href;!function(){function n(n){!t(n.target)||n.target.className.indexOf("no-smooth-scroll")>-1||"#"===n.target.href.charAt(n.target.href.length-2)&&"!"===n.target.href.charAt(n.target.href.length-1)||-1===n.target.className.indexOf(e.linkClass)||o(n.target.hash,{duration:r,offset:i,callback:function(){l(n.target.hash)}})}document.body.addEventListener("click",n,!1)}()}function o(e,t){function n(e){i=e-r,window.scrollTo(0,c.easing(i,s,u,d)),i<d?requestAnimationFrame(n):o()}function o(){window.scrollTo(0,s+u),"function"==typeof c.callback&&c.callback()}function l(e,t,n,o){return(e/=o/2)<1?n/2*e*e+t:(e--,-n/2*(e*(e-2)-1)+t)}var r,i,s=window.pageYOffset,c={duration:t.duration,offset:t.offset||0,callback:t.callback,easing:t.easing||l},a=document.querySelector('[id="'+decodeURI(e).split("#").join("")+'"]'),u="string"==typeof e?c.offset+(e?a&&a.getBoundingClientRect().top||0:-(document.documentElement.scrollTop||document.body.scrollTop)):e,d="function"==typeof c.duration?c.duration(u):c.duration;requestAnimationFrame(function(e){r=e,n(e)})}t.initSmoothScrolling=n}]);
</script>
<script>
  var xsjRoot = document.querySelector('.xsj_root');
  xsjRoot.classList.add('xsj_container_toc')
tocbot.init({
  // Where to render the table of contents.
  tocSelector: '#nav',
  // Where to grab the headings to build the table of contents.
  contentSelector: '#wmd-preview',
  // Which headings to grab inside of the contentSelector element.
  headingSelector: '.html_preview>h1, .html_preview>h2,.html_preview>h3,.html_preview>h4,.html_preview>h5,.html_preview>h6',
});
var tocToggle = document.querySelector('#toc-toggle');
var toggler = function(e) {
    e.preventDefault();
    var tocContainer = document.querySelector('.xsj_container_toc');
    var icon = document.querySelector('.toc-toggle-icon');
    var tip = document.querySelector('.toc-toggle-tip');
    if (tocContainer.classList.contains('hide_toc')){
        tocContainer.classList.remove('hide_toc');
        icon.innerHTML = "←";
        tip.innerHTML = "关闭目录";
        
    } else {
        tocContainer.classList.add('hide_toc');
        icon.innerHTML = "→";
        tip.innerHTML = "展开目录";
    }
}
tocToggle.addEventListener('click', toggler, false);
</script>
</body></html>


